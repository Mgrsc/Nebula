import type { Language } from "../../shared/api";

export type { Language };

export function coerceLanguage(v: string | null | undefined): Language {
  return v === "en" ? "en" : "zh-CN";
}

export const strings = {
  "zh-CN": {
    navDashboard: "仪表盘",
    navSettings: "设置",
    dashboardTitle: "仪表盘",
    settingsTitle: "设置",
    settingsSubtitle: "时区默认中国；汇率换算默认关闭，需要 API Key 才能开启显示。",
    timezoneTitle: "时区",
    timezoneDesc: "用于计算“今天/剩余天数”等日期逻辑。",
    languageTitle: "语言",
    interfaceLanguageLabel: "界面语言",
    cancel: "取消",
    baseCurrencyTitle: "本位币",
    baseCurrencyDesc: "开启汇率换算后，卡片顶部将显示本位币价格。",
    currencyCodeHint: "货币代码需要正确填写",
    currencyDocs: "查询支持的货币代码",
    exchangeTitle: "汇率换算",
    exchangeDesc: "默认关闭。开启后：卡片顶部显示“本位币价格”，底部显示“原币种价格”。",
    exchangeKeyTitle: "ExchangeRate-API Key",
    exchangeKeyLink: "去这里获取 API Key",
    exchangeKeySaved: "已保存（出于安全考虑不回显）",
    exchangeKeyPlaceholder: "粘贴你的 API Key（保存后不回显）",
    exchangeKeyNote: "说明：为防止误用额度，后端会做缓存；也可以点击“立即同步”手动刷新。",
    syncNow: "立即同步",
    save: "保存",
    saving: "保存中...",
    saved: "已保存",
    ratesUpdated: "汇率已更新：",
    ratesNoNeed: "汇率无需更新",
    refresh: "刷新",
    addSubscription: "添加订阅",
    renewSubscription: "续订",
    renewing: "续订中...",
    webhooksTitle: "Webhook 渠道",
    webhooksDesc: "可配置多个渠道，订阅可选择发送到哪些渠道。",
    newWebhook: "新建 Webhook",
    addChannel: "添加渠道",
    channelName: "名称",
    channelUrl: "Webhook URL",
    enabled: "启用",
    delete: "删除",
    deleteWebhookConfirm: "确定删除这个 Webhook 吗？",
    webhookTemplate: "请求体模板 (JSON)",
    webhookTemplateDesc: "支持变量：{{name}} {{price}} {{currency}} {{display_price}} {{display_currency}} {{days_left}} {{due_date}} {{now}}",
    webhookTest: "测试",
    webhookTestOk: "测试已发送",
    webhookTestFail: "测试失败",
    webhookPresets: "模板",
    webhookApplyPreset: "填入",
    noWebhooksConfigured: "暂无 Webhook 渠道。",
    noSubscriptions: "暂无订阅",
    lastUpdate: "最后更新",
    searchPlaceholder: "搜索订阅...",
    noSearchResults: "未找到匹配的订阅",
    backupTitle: "备份与恢复",
    backupDesc: "配置 WebDAV 备份，自动同步数据到云端",
    webdavUrl: "WebDAV 服务器地址",
    webdavUsername: "用户名",
    webdavPassword: "密码",
    backupNow: "立即备份",
    backupHistory: "备份历史",
    autoBackup: "自动备份",
    backupInterval: "备份间隔",
    backupRetention: "保留备份数量",
    backupRetentionHint: "默认 1：每次覆盖上一份；设置为 N：最多保留 N 份历史备份。",
    logsTitle: "日志",
    logsDesc: "最近操作日志",

    authTitle: "身份验证",
    authDesc: "设置密码后，修改数据需要登录。",
    authStatus: "状态",
    authConfigured: "已设置密码",
    authNotConfigured: "未设置密码",
    authEnabled: "已启用",
    authDisabled: "未启用",
    authSetupTitle: "设置登录密码",
    authPassword: "密码",
    authPasswordConfirm: "确认密码",
    authSetPassword: "设置密码",
    authToggleTitle: "启用/禁用身份验证",
    authToggleHint: "禁用后所有操作将不再要求登录。",
    authTogglePasswordHint: "需要输入当前密码确认。",
    authChangeTitle: "修改密码",
    authCurrentPassword: "当前密码",
    authNewPassword: "新密码",
    authChangePassword: "修改密码"
  },
  en: {
    navDashboard: "Dashboard",
    navSettings: "Settings",
    dashboardTitle: "Dashboard",
    settingsTitle: "Settings",
    settingsSubtitle: "Default timezone is China; currency conversion is off by default and requires an API key.",
    timezoneTitle: "Time Zone",
    timezoneDesc: "Used for date logic like today/days left.",
    languageTitle: "Language",
    interfaceLanguageLabel: "Interface language",
    cancel: "Cancel",
    baseCurrencyTitle: "Currency",
    baseCurrencyDesc: "When enabled, cards show base-currency price on top.",
    currencyCodeHint: "Currency code must be valid",
    currencyDocs: "Supported currency codes",
    exchangeTitle: "Exchange",
    exchangeDesc: "Off by default. When on: top shows base currency, bottom shows original currency.",
    exchangeKeyTitle: "ExchangeRate-API Key",
    exchangeKeyLink: "Get an API key",
    exchangeKeySaved: "Saved (not shown for security)",
    exchangeKeyPlaceholder: "Paste your API key (won't be shown later)",
    exchangeKeyNote: "Note: backend caches rates to reduce quota usage; you can also sync now.",
    syncNow: "Sync now",
    save: "Save",
    saving: "Saving...",
    saved: "Saved",
    ratesUpdated: "Rates updated: ",
    ratesNoNeed: "Rates up-to-date",
    refresh: "Refresh",
    addSubscription: "Add subscription",
    renewSubscription: "Renew",
    renewing: "Renewing...",
    webhooksTitle: "Webhook Channels",
    webhooksDesc: "Configure multiple channels; subscriptions can choose which channels to send to.",
    newWebhook: "New Webhook",
    addChannel: "Add channel",
    channelName: "Name",
    channelUrl: "Webhook URL",
    enabled: "Enabled",
    delete: "Delete",
    deleteWebhookConfirm: "Delete this webhook?",
    webhookTemplate: "Body template (JSON)",
    webhookTemplateDesc:
      "Variables: {{name}} {{price}} {{currency}} {{display_price}} {{display_currency}} {{days_left}} {{due_date}} {{now}}",
    webhookTest: "Test",
    webhookTestOk: "Test sent",
    webhookTestFail: "Test failed",
    webhookPresets: "Presets",
    webhookApplyPreset: "Insert",
    noWebhooksConfigured: "No webhooks configured.",
    noSubscriptions: "No subscriptions yet",
    lastUpdate: "Last updated",
    searchPlaceholder: "Search subscriptions...",
    noSearchResults: "No matching subscriptions found",
    backupTitle: "Backup & Restore",
    backupDesc: "Configure WebDAV backup to sync data to cloud",
    webdavUrl: "WebDAV Server URL",
    webdavUsername: "Username",
    webdavPassword: "Password",
    backupNow: "Backup Now",
    backupHistory: "Backup History",
    autoBackup: "Auto Backup",
    backupInterval: "Backup Interval",
    backupRetention: "Backup retention",
    backupRetentionHint: "Default 1 overwrites the previous backup; set to N to keep up to N backups.",
    logsTitle: "Logs",
    logsDesc: "Recent backend logs",

    authTitle: "Authentication",
    authDesc: "After setting a password, write operations require login.",
    authStatus: "Status",
    authConfigured: "Password set",
    authNotConfigured: "Password not set",
    authEnabled: "Enabled",
    authDisabled: "Disabled",
    authSetupTitle: "Set login password",
    authPassword: "Password",
    authPasswordConfirm: "Confirm password",
    authSetPassword: "Set password",
    authToggleTitle: "Enable/Disable authentication",
    authToggleHint: "When disabled, operations no longer require login.",
    authTogglePasswordHint: "Enter current password to confirm.",
    authChangeTitle: "Change password",
    authCurrentPassword: "Current password",
    authNewPassword: "New password",
    authChangePassword: "Change password"
  }
} as const;
